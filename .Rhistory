getwd()
setwd("~/code/citibike")
t <- read.csv("1st-and-E-30.csv")
head(t)
ggplot(t, aes(date, value))
library("ggplot")
library("ggplot2")
ggplot(t, aes(date, value))
update.packages()
library("ggplot2")
ggplot(t, aes(date, value))
ggplot(table, aes(date, value)) + geom_line() +
scale_x_date(format = "%b-%Y") + xlab("") + ylab("Daily Views")
ggplot(table, aes(date, value)) + geom_line() +
scale_x_date(format = "%b-%Y") + xlab("") + ylab("Daily Views"))
ggplot(table, aes(date, value)) + geom_line()
ggplot(table, aes(date, value))
p <- ggplot(table, aes(date, value))
table
p <- ggplot(t, aes(date, value))
p
p <- ggplot(t, aes(date, value)) + geom_line()
plot(p)
c
ggplot(t, aes(date, value)) + geom_line()
head(p)
table$date
table.date
t.date
t$date
chron
library("chron")
install.packages("chron")
library("chron")
t[1]
t$date
t$date = as.POSIXcs(t[,1], format="%B-%m-%d %H:%M:%S")
t$date = as.POSIXct(t[,1], format="%B-%m-%d %H:%M:%S")
t
t <- read.csv("1st-and-E-30.csv")
t[,1]
date = as.POSIXct(t[,1], format="%B-%m-%d %H:%M:%S")
date
date = as.POSIXct(t[,1], format="%Y-%m-%d %H:%M:%S")
date
t$date = as.POSIXct(t[,1], format="%Y-%m-%d %H:%M:%S")
head(t)
plot(t)
ggplot(t, aes(date,value))
ggplot(t, aes(date,value)) + geom_line()
auto.arima(t)
library("forecast")
install.packages("forecast")
library("forecast")
auto.arima(t)
WWWUsage
WWWusage
auto.arima(t$value)
plot(forecast(auto.arima(t$value, h=20)))
plot(forecast(auto.arima(t$value), h=20))
plot(t)
ggplot(t, aes(date,value)) + geom_line()
plot(forecast(auto.arima(t$value), h=200))
plot(forecast(auto.arima(t$value), h=2000))
plot(forecast(auto.arima(t$value), h=2))
plot(HoltWinters(t))
t
plot(HoltWinters(t))
plot(HoltWinters(t), frequency = 5)
plot(HoltWinters(t), frequency = 500)
plot(HoltWinters(t), frequency = 1)
ts <- ts(t$value, frequency=24)
plot(HoltWinters(ts))
stripped <- na.omit.ts(ts)
stripped <- na.omit(ts)
stripped <- na.remove(ts)
install.packages("na")
stripped <- na.omite(ts)
stripped <- na.omit(ts)
head(t)
t$value <- na.omit(t$value)
t
na.omit(t)
stripepd <- na.omit(t)
stripped <- na.omit(t)
plot(HoltWinters(stripped))
stripped
stripped$date = as.POSIXct(t[,1], format="%B-%m-%d %H:%M:%S")
stripped
stripped$date = as.POSIXct(stripped[,1], format="%B-%m-%d %H:%M:%S")
plot(HoltWinters(stripped))
plot(HoltWinters(stripped, frequency=24))
ts <- ts(stripped$value, frequency=24)
plot(HoltWinters(ts))
hw <- HoltWinters(ts)
forecast <- predict(hw, n.ahead = 12, prediction.interval = T, level = 0.95)
plot(hw, forecast)
forecast <- predict(hw, n.ahead = 120, prediction.interval = T, level = 0.95)
plot(hw, forecast)
forecast <- predict(hw, n.ahead = 520, prediction.interval = T, level = 0.95)
plot(hw, forecast)
snaive
snaive(ts, 5)
plot(snaive(ts, 5))
ts
stripped
semantic <- ts(stripped$value, frequency=24)
semantic
stripped$date = as.POSIXct(stripped[,1], format="%B-%m-%d %H:%M:%S")
stripped
stripped$date = as.POSIXct(stripped[,1], format="%B-%m-%d %H:%M:%S")
snaive(stripped, 5)
plot(snaive(ts, 5))
plot(snaive(ts, 50))
plot(snaive(ts, 300))
ausbeer
plot(meanf(ts, 300))
ts
plot(meanf(ts, 24))
fuel2 <- fuel[fuel$Litres<2,]
plot(melsyd[,"Economy.Class"],
main="Economy class passengers: Melbourne-Sydney",
xlab="Year",ylab="Thousands")
fpp
install.packages(fpp)
install.packages("fpp")
library("fpp")
beer2 <- window(ausbeer,start=1992,end=2006-.1)
beerfit1 <- meanf(beer2, h=11)
beerfit2 <- naive(beer2, h=11)
beerfit3 <- snaive(beer2, h=11)
plot(beerfit1, plot.conf=FALSE,
main="Forecasts for quarterly beer production")
lines(beerfit2$mean,col=2)
lines(beerfit3$mean,col=3)
legend("topright",lty=1,col=c(4,2,3),
legend=c("Mean method","Naive method","Seasonal naive method"))
ausbeer
beerfit3 <- snaive(beer2, h=11)
plot(beerfit3)
plot(snaive(beer2, h=11))
plot(snaive(beer2, h=40))
beer2
ts
striped
stripped
head(stripped)
head(beer2)
beer2
plot(snaive(beer2, h=4))
plot(snaive(beer2, h=1))
plot(snaive(beer2, h=5))
plot(snaive(beer2, h=6))
z <- zooreg(1:100 + rnorm(100), start = as.Date("2001-01-01"), deltat = 7)
z
head(z)
plot(snaive(beer2, h=6))
plot(snaive(z, h=6))
dnorm(x, mean = 0, sd = 1, log = FALSE)
rnorm(n=500, m=1, sd=1)
plot(rnorm(n=500, m=1, sd=1) )
plot(rnorm(n=500, m=1, sd=.5) )
plot(rnorm(n=500, m=1, sd=.2) )
plot(rnorm(n=500, m=1, sd=.1) )
plot(rnorm(n=500, m=10, sd=.1) )
plot(rnorm(n=500, m=100, sd=.1))
plot(rnorm(n=500, m=100, sd=10))
hist(rnorm(n=500, m=1, sd=1) )
hist(rnorm(n=5000, m=1, sd=1))
plot(rnorm(n=5000, m=1, sd=1))
ts(rnorm(n=5000, m=1, sd=1))
plot(ts(rnorm(n=5000, m=1, sd=1)))
plot(ts(rnorm(n=5000, m=1, sd=.2)))
plot(ts(rnorm(n=500, m=1, sd=.2)))
plot(ts(rnorm(n=50, m=1, sd=.2)))
plot(ts(rnorm(n=50, m=10, sd=.2)))
plot(ts(rnorm(n=100, m=10, sd=.2)))
plot(ts(rnorm(n=200, m=10, sd=.2)))
install("zoom")
package("zoom")
install.package("zoom")
install.packages("zoom")
plot(ts(rnorm(n=200, m=10, sd=.2)), ylim(c(-10,20)))
plot(ts(rnorm(n=200, m=10, sd=.2)), axes=FALSE)
axis(side=1, at=c(0:23))
plot(ts(rnorm(n=200, m=10, sd=.2)))
n <- 100
x <- rnorm(n)
y <- rnorm(n, x)
plot(x, y,
xlab = "Explanatory Variable",
ylab = "Outcome Variable")
plot(ts(rnorm(n=200, m=10, sd=.2)))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(-10, 10), ylim=c(-10, 10))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 10), ylim=c(-10, 10))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(-10, 10))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(0, 10))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(5, 15))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(5, 15))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(5, 15))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(5, 15))
plot(ts(rnorm(n=200, m=10, sd=.2)),  xlim=c(0, 200), ylim=c(5, 15))
plot(ts(rnorm(n=300, m=10, sd=.2)),  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[250] = 30
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
jpeg('rplot.jpg')
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.off
dev.off()
jpeg('spike.jpg')
x[250] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[250] = 14
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.off()
x[250]
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
jpeg('spike.jpg')
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.off()
x <-ts(rnorm(n=50, m=14, sd=.2))
y <- x
removed <- head(x,-50)
plot(removed)
removed
x
set.seed()
set.seed(10)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
jpeg('normal.jpg')
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.off()
dev.new(width=5, height=4)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
plot(1:10)
dev.new(width=5, height=4)
plot(1:20)
plot(1:10)
plot(1:10)
dev.new(width=5, height=4)
plot(1:20)
jpeg('normal.jpg', width = 4, height = 3)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
jpeg('normal.jpg', width = 3, height = 2)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.off()
jpeg('normal.jpg', width = 3, height = 2)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.ofF()
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
dev.ofF()
dev.off()
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[250] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
y <- x
chopped <- head(x,-100)
chopped
chopped <- head(x,-50)
chopped
new <-ts(rnorm(n=50, m=14.5, sd=.2))
new
c(x, new)
combined <- c(x, new)
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
seriesed <- ts(combined)
plot(seriesed,  xlim=c(0, 300), ylim=c(5, 15))
combined <- ts(chopped, new)
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x
combined <- ts(c(chopped, new))
combined
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x <- ts(c(chopped, new))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[250] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
chopped <- head(x,-50)
new <-ts(rnorm(n=50, m=14.5, sd=.2))
combined <- ts(c(chopped, new))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
hist(chopped)
hist(chopped)
hist(new)
chopped
hist(chopped)
hist(new)
new
hist(new)
x <-ts(rnorm(n=1000, m=10, sd=.2))
plot(x,  xlim=c(0, 1000), ylim=c(5, 15))
x <-ts(rnorm(n=600, m=10, sd=.2))
plot(x,  xlim=c(0, 600), ylim=c(5, 15))
x[250] = 14.5
plot(x,  xlim=c(0, 600), ylim=c(5, 15))
x[450] = 14.5
plot(x,  xlim=c(0, 600), ylim=c(5, 15))
normal <- head(x,-150)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 500), ylim=c(5, 15))
hist(normal)
normal
normal <- head(x,-51)
hist(normal)
normal
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[250] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
normal <- head(x,-51)
state_change <-ts(rnorm(n=50, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
hist(normal)
steady_state <- head(x,-51)
state_change <-ts(rnorm(n=50, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-51)
state_change <-ts(rnorm(n=50, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-51)
state_change <-ts(rnorm(n=50, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
hist(steady_state)
hist(state_change)
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[150] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-251)
state_change <-ts(rnorm(n=250, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[150] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-151)steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(normal, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
x[150] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(5, 15))
steady_state <- head(x,-151)
x[150]
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(steady_state, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(5, 15))
x <-ts(rnorm(n=300, m=10, sd=.2))
plot(x,  xlim=c(0, 300), ylim=c(8, 15))
x[150] = 14.5
plot(x,  xlim=c(0, 300), ylim=c(8, 15))
steady_state <- head(x,-151)
state_change <-ts(rnorm(n=150, m=14.5, sd=.2))
combined <- ts(c(steady_state, state_change))
plot(combined,  xlim=c(0, 300), ylim=c(8, 15))
hist(steady_state)
hist(state_change)
hist(steady_state)
x <-ts(rnorm(n=400, m=10, sd=.2))
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
x[200] = 14.5
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
steady_state <- head(x,-201)
state_change <-ts(rnorm(n=200, m=14.5, sd=.2))
combined <- ts(c(steady_state, state_change))
plot(combined,  xlim=c(0, 400), ylim=c(8, 15))
hist(steady_state)
hist(state_change)
x <-ts(rnorm(n=400, m=10, sd=.2))
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
hist(xx <-ts(rnorm(n=400, m=10, sd=.2))
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
)
x <-ts(rnorm(n=400, m=10, sd=.2))
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
hist(x)
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
x[200] = 14.5
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
x <- head(x,-201)
state_change <-ts(rnorm(n=200, m=14.5, sd=.2))
combined <- ts(c(x, state_change))
plot(combined,  xlim=c(0, 400), ylim=c(8, 15))
hist(x)
hist(state_change)
x <-ts(rnorm(n=400, m=10, sd=.2))
plot(x,  xlim=c(0, 400), ylim=c(8, 15))
